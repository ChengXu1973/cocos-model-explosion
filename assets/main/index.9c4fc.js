System.register("chunks:///_virtual/main",["./main.ts","./spin.ts"],(function(){return{setters:[null,null],execute:function(){}}}));

System.register("chunks:///_virtual/main.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,s,a,o,l,h,u,d,m,c,p,f,g,y,_,b,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,o=e.v4,l=e.MeshRenderer,h=e.Sprite,u=e.Slider,d=e.CCFloat,m=e.Node,c=e.EPSILON,p=e.gfx,f=e.SpriteFrame,g=e.utils,y=e.Texture2D,_=e.clamp,b=e.ImageAsset,x=e.Component}],execute:function(){var T,v,A,M,S,z,E,O,w,N,P,C,F;s._RF.push({},"b7f757EOvhDjYxASy8Gx0OI","main",void 0);var R=a.ccclass,D=a.property,I=o();e("Main",(T=R("Main"),v=D(l),A=D(h),M=D(u),S=D(d),z=D(m),T((w=t((O=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,r(t,"model",w,n(t)),r(t,"sprite",N,n(t)),r(t,"slide",P,n(t)),r(t,"duration",C,n(t)),r(t,"target",F,n(t)),t.time=0,t.auto=!0,t}i(t,e);var s=t.prototype;return s.onLoad=function(){this.model&&(this._listen(),this._bake())},s.update=function(e){this.auto&&(this.time+=e,this.time>this.duration&&(this.time-=this.duration),this._setAnim(this.time/this.duration))},s.onSlide=function(){this._setAnim(this.slide.progress)},s._listen=function(){this.slide.node.on(m.EventType.TOUCH_START,this._onStart,this),this.slide.handle.node.on(m.EventType.TOUCH_START,this._onStart,this),this.slide.node.on(m.EventType.TOUCH_END,this._onEnd,this),this.slide.handle.node.on(m.EventType.TOUCH_END,this._onEnd,this)},s._onStart=function(){this.auto=!1},s._onEnd=function(){this.auto=!0,this.time=this.slide.progress*this.duration},s._bake=function(){var e=this.model.mesh.struct.maxPosition.clone(),t=this.model.mesh.struct.minPosition.clone(),i=e.clone().subtract(t);i.x=Math.max(i.x,c),i.y=Math.max(i.y,c),i.z=Math.max(i.z,c),this.model.getSharedMaterial(0).setProperty("minPos",o(t.x,t.y,t.z)),this.model.getSharedMaterial(0).setProperty("modelSize",o(i.x,i.y,i.z));var r=this._reCreateMesh(),n=this._bakeVertexTexture(r,t,i);this.model.getSharedMaterial(0).setProperty("vertexTexture",n),this.model.getSharedMaterial(0).setProperty("textureSize",o(n.width,n.height,1/n.width,1/n.height)),this.model.mesh.renderingSubMeshes[0].enableVertexIdChannel(p.deviceManager.gfxDevice),this.sprite&&(this.sprite.spriteFrame=new f,this.sprite.spriteFrame.texture=n)},s._reCreateMesh=function(){var e=this.model.mesh.readAttribute(0,p.AttributeName.ATTR_POSITION),t=this.model.mesh.readAttribute(0,p.AttributeName.ATTR_NORMAL),i=this.model.mesh.readAttribute(0,p.AttributeName.ATTR_TEX_COORD),r=this.model.mesh.readIndices(0),n=r.length,s=Array(3*n).fill(0),a=Array(3*n).fill(0),o=Array(2*n).fill(0);return r.forEach((function(r,n){s[3*n+0]=e[3*r+0],s[3*n+1]=e[3*r+1],s[3*n+2]=e[3*r+2],a[3*n+0]=t[3*r+0],a[3*n+1]=t[3*r+1],a[3*n+2]=t[3*r+2],o[2*n+0]=i[2*r+0],o[2*n+1]=i[2*r+1]})),this.model.mesh=g.MeshUtils.createMesh({positions:s,normals:a,uvs:o}),this.model.onGeometryChanged(),s},s._bakeVertexTexture=function(e,t,i){for(var r=e.length/3,n=Math.ceil(Math.log2(Math.sqrt(r))),s=1<<n,a=1<<n,o=y.PixelFormat.RGBA32F,l=new Float32Array(s*a*4),h=0;h<r;h++){var u=e[3*h+0],d=e[3*h+1],m=e[3*h+2];l[4*h+0]=_((u-t.x)/i.x,0,1),l[4*h+1]=_((d-t.y)/i.y,0,1),l[4*h+2]=_((m-t.z)/i.z,0,1),l[4*h+3]=1}var c=new y;return c.setFilters(y.Filter.NONE,y.Filter.NONE),c.image=new b({_data:l,width:s,height:a,format:o,_compressed:!1}),c},s._setAnim=function(e){var t=this.model.getSharedMaterial(0).passes[0];I.set(this.target.position.x,this.target.position.y,this.target.position.z,e),t.setUniform(t.getHandle("animParam"),I)},t}(x)).prototype,"model",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(O.prototype,"sprite",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(O.prototype,"slide",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(O.prototype,"duration",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),F=t(O.prototype,"target",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=O))||E));s._RF.pop()}}}));

System.register("chunks:///_virtual/spin.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,o,a,s,l,c,p,u,f,g,y,m,d,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.v2,l=e.quat,c=e.Node,p=e.CCFloat,u=e.input,f=e.Input,g=e.Quat,y=e.Vec3,m=e.misc,d=e.NodeSpace,v=e.Component}],execute:function(){var h,b,T,_,D,E,I,x,z;o._RF.push({},"19314TurmBBM5gD+EYX5VcG","spin",void 0);var A=a.ccclass,C=a.property,L=s(),N=s(),O=l(),R=l(),w=l();e("Spin",(h=A("Spin"),b=C(c),T=C(c),_=C(p),h((I=t((E=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"target",I,r(t)),n(t,"camera",x,r(t)),n(t,"speed",z,r(t)),t}i(t,e);var o=t.prototype;return o.onEnable=function(){u.on(f.EventType.TOUCH_MOVE,this._move,this)},o.onDisable=function(){u.off(f.EventType.TOUCH_MOVE,this._move,this)},o._move=function(e){e.getPreviousLocation(L),e.getLocation(N);var t=N.x-L.x,i=N.y-L.y;O.set(g.IDENTITY),g.fromAxisAngle(w,y.UNIT_Y,m.degreesToRadians(t*this.speed)),g.fromAxisAngle(R,y.UNIT_X,m.degreesToRadians(-i*this.speed)),g.multiply(O,O,w),g.multiply(O,O,R),this.target.rotate(O,d.WORLD)},t}(v)).prototype,"target",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(E.prototype,"camera",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(E.prototype,"speed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.01}}),D=E))||D));o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});